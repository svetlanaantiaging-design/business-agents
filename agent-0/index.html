<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ë–∏–∑–Ω–µ—Å-–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --ink: #0f0f0f;
      --paper: #f8f5f0;
      --cream: #efe9df;
      --gold: #c9a84c;
      --gold-light: #e8d5a3;
      --muted: #7a7268;
      --border: #ddd5c8;
      --white: #ffffff;
      --danger: #c0392b;
      --success: #1a6b3c;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--paper);
      color: var(--ink);
      min-height: 100vh;
    }

    .page {
      min-height: 100vh;
      display: flex;
    }

    /* LEFT PANEL */
    .left-panel {
      width: 340px;
      flex-shrink: 0;
      background: var(--ink);
      color: var(--white);
      padding: 48px 40px;
      display: flex;
      flex-direction: column;
      position: sticky;
      top: 0;
      height: 100vh;
    }

    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 0.02em;
      color: var(--gold);
      margin-bottom: 48px;
    }

    .panel-title {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      font-weight: 600;
      line-height: 1.3;
      margin-bottom: 16px;
    }

    .panel-subtitle {
      font-size: 14px;
      color: rgba(255,255,255,0.5);
      line-height: 1.6;
      margin-bottom: 48px;
    }

    .steps-nav {
      flex: 1;
    }

    .step-item {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding: 12px 0;
      cursor: pointer;
      transition: opacity 0.2s;
      opacity: 0.4;
    }

    .step-item.active { opacity: 1; }
    .step-item.done { opacity: 0.7; }

    .step-dot {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      border: 1.5px solid rgba(255,255,255,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 500;
      flex-shrink: 0;
      margin-top: 2px;
      transition: all 0.2s;
    }

    .step-item.active .step-dot {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--ink);
    }

    .step-item.done .step-dot {
      background: rgba(255,255,255,0.15);
      border-color: rgba(255,255,255,0.3);
    }

    .step-label {
      font-size: 13px;
      font-weight: 500;
      color: var(--white);
    }

    .step-desc {
      font-size: 12px;
      color: rgba(255,255,255,0.4);
      margin-top: 2px;
    }

    .progress-bar-wrap {
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid rgba(255,255,255,0.1);
    }

    .progress-label {
      font-size: 12px;
      color: rgba(255,255,255,0.4);
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
    }

    .progress-track {
      height: 3px;
      background: rgba(255,255,255,0.1);
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--gold);
      border-radius: 2px;
      transition: width 0.4s ease;
    }

    /* RIGHT PANEL */
    .right-panel {
      flex: 1;
      padding: 64px 80px;
      max-width: 680px;
    }

    .step-number {
      font-size: 12px;
      font-weight: 500;
      color: var(--gold);
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .step-heading {
      font-family: 'Playfair Display', serif;
      font-size: 36px;
      font-weight: 600;
      line-height: 1.2;
      margin-bottom: 8px;
      color: var(--ink);
    }

    .step-hint {
      font-size: 15px;
      color: var(--muted);
      margin-bottom: 48px;
      line-height: 1.6;
    }

    .field-group {
      margin-bottom: 32px;
    }

    .field-label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: var(--ink);
      letter-spacing: 0.03em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .field-label span {
      color: var(--gold);
      margin-left: 2px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea,
    select {
      width: 100%;
      padding: 14px 18px;
      border: 1.5px solid var(--border);
      border-radius: 6px;
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      color: var(--ink);
      background: var(--white);
      outline: none;
      transition: border-color 0.2s;
      -webkit-appearance: none;
    }

    input:focus, textarea:focus, select:focus {
      border-color: var(--gold);
      box-shadow: 0 0 0 3px rgba(201,168,76,0.1);
    }

    textarea { resize: vertical; min-height: 100px; line-height: 1.6; }

    .input-error {
      border-color: var(--danger) !important;
    }

    .error-msg {
      font-size: 12px;
      color: var(--danger);
      margin-top: 6px;
    }

    /* CHOICE BUTTONS */
    .choice-grid {
      display: grid;
      gap: 10px;
    }

    .choice-grid.cols-2 { grid-template-columns: 1fr 1fr; }
    .choice-grid.cols-3 { grid-template-columns: 1fr 1fr 1fr; }

    .choice-btn {
      padding: 14px 18px;
      border: 1.5px solid var(--border);
      border-radius: 6px;
      background: var(--white);
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      color: var(--ink);
      cursor: pointer;
      transition: all 0.15s;
      text-align: left;
      line-height: 1.4;
    }

    .choice-btn:hover {
      border-color: var(--gold-light);
      background: #fffdf7;
    }

    .choice-btn.selected {
      border-color: var(--gold);
      background: #fffbee;
      color: var(--ink);
      font-weight: 500;
    }

    .choice-btn .choice-icon {
      display: block;
      font-size: 20px;
      margin-bottom: 6px;
    }

    .choice-btn .choice-title {
      display: block;
      font-weight: 500;
    }

    .choice-btn .choice-sub {
      display: block;
      font-size: 12px;
      color: var(--muted);
      margin-top: 2px;
    }

    /* INLINE FIELDS */
    .inline-fields {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    /* NAVIGATION */
    .nav-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 48px;
      padding-top: 32px;
      border-top: 1px solid var(--border);
    }

    .btn-back {
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      color: var(--muted);
      background: none;
      border: none;
      cursor: pointer;
      padding: 12px 0;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: color 0.2s;
    }

    .btn-back:hover { color: var(--ink); }
    .btn-back:disabled { opacity: 0; pointer-events: none; }

    .btn-next {
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      font-weight: 500;
      color: var(--ink);
      background: var(--gold);
      border: none;
      border-radius: 6px;
      padding: 14px 36px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .btn-next:hover {
      background: #b8952f;
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(201,168,76,0.3);
    }

    /* ANALYSIS SCREEN */
    .analysis-loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 70vh;
      text-align: center;
    }

    .spinner-ring {
      width: 56px;
      height: 56px;
      border: 3px solid var(--border);
      border-top-color: var(--gold);
      border-radius: 50%;
      animation: spin 0.9s linear infinite;
      margin-bottom: 24px;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    .analysis-title {
      font-family: 'Playfair Display', serif;
      font-size: 28px;
      margin-bottom: 12px;
    }

    .analysis-subtitle {
      color: var(--muted);
      font-size: 15px;
    }

    /* RESULTS */
    .result-hero {
      background: var(--ink);
      color: var(--white);
      border-radius: 12px;
      padding: 36px 40px;
      margin-bottom: 28px;
    }

    .result-hero-label {
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 8px;
    }

    .result-hero-title {
      font-family: 'Playfair Display', serif;
      font-size: 26px;
      margin-bottom: 12px;
    }

    .result-hero-desc {
      font-size: 14px;
      color: rgba(255,255,255,0.6);
      line-height: 1.7;
    }

    .result-card {
      background: var(--white);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 28px 32px;
      margin-bottom: 20px;
    }

    .result-card-title {
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      margin-bottom: 20px;
      color: var(--ink);
    }

    .insight-item {
      display: flex;
      gap: 14px;
      margin-bottom: 14px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--cream);
    }

    .insight-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }

    .insight-num {
      width: 24px;
      height: 24px;
      background: var(--cream);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 600;
      flex-shrink: 0;
      color: var(--muted);
      margin-top: 2px;
    }

    .insight-text { font-size: 14px; line-height: 1.6; color: var(--ink); }

    .agent-item {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      padding: 16px 0;
      border-bottom: 1px solid var(--cream);
    }

    .agent-item:last-child { border-bottom: none; }

    .agent-rank {
      font-family: 'Playfair Display', serif;
      font-size: 24px;
      font-weight: 700;
      color: var(--gold-light);
      width: 32px;
      flex-shrink: 0;
    }

    .agent-name { font-weight: 500; font-size: 14px; margin-bottom: 4px; }
    .agent-reason { font-size: 13px; color: var(--muted); line-height: 1.5; }

    .priority-badge {
      font-size: 11px;
      font-weight: 500;
      padding: 3px 8px;
      border-radius: 3px;
      margin-left: 8px;
    }

    .priority-high { background: #fde8e6; color: #c0392b; }
    .priority-mid  { background: #fef6e4; color: #9a6700; }
    .priority-low  { background: #e8f5ee; color: #1a6b3c; }

    .quick-win {
      display: flex;
      gap: 12px;
      padding: 12px 0;
      border-bottom: 1px solid var(--cream);
      font-size: 14px;
      line-height: 1.5;
    }

    .quick-win:last-child { border-bottom: none; }
    .quick-win-check { color: var(--success); font-size: 16px; flex-shrink: 0; }

    .recommendation-box {
      background: linear-gradient(135deg, #fffbee 0%, #fff8e1 100%);
      border: 1px solid var(--gold-light);
      border-radius: 10px;
      padding: 28px 32px;
      margin-bottom: 28px;
    }

    .recommendation-box h3 {
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      margin-bottom: 12px;
    }

    .recommendation-box p {
      font-size: 15px;
      line-height: 1.7;
      color: var(--ink);
    }

    .next-step-card {
      background: var(--ink);
      color: var(--white);
      border-radius: 12px;
      padding: 36px 40px;
      margin-bottom: 16px;
    }

    .next-step-label {
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 8px;
    }

    .next-step-title {
      font-family: 'Playfair Display', serif;
      font-size: 26px;
      font-weight: 600;
      margin-bottom: 14px;
    }

    .next-step-desc {
      font-size: 14px;
      color: rgba(255,255,255,0.6);
      line-height: 1.7;
      margin-bottom: 24px;
    }

    .next-step-features {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 28px;
    }

    .next-step-feature {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: rgba(255,255,255,0.75);
    }

    .btn-next-step {
      font-family: 'DM Sans', sans-serif;
      font-size: 15px;
      font-weight: 500;
      color: var(--ink);
      background: var(--gold);
      border: none;
      border-radius: 6px;
      padding: 14px 32px;
      cursor: pointer;
      transition: all 0.2s;
      width: 100%;
    }

    .btn-next-step:hover {
      background: #b8952f;
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(201,168,76,0.35);
    }

    .result-actions {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }

    .btn-outline {
      flex: 1;
      padding: 14px;
      border: 1.5px solid var(--border);
      border-radius: 6px;
      background: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--ink);
    }

    .btn-outline:hover { border-color: var(--ink); }

    .btn-primary {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 6px;
      background: var(--ink);
      font-family: 'DM Sans', sans-serif;
      font-size: 14px;
      font-weight: 500;
      color: var(--white);
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-primary:hover { background: #2a2a2a; }

    /* WELCOME SCREEN */
    .welcome-screen {
      flex: 1;
      display: flex;
      align-items: center;
      padding: 64px 80px;
    }

    .welcome-content { max-width: 520px; }

    .welcome-tag {
      display: inline-block;
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--gold);
      border: 1px solid var(--gold-light);
      padding: 4px 12px;
      border-radius: 20px;
      margin-bottom: 24px;
    }

    .welcome-title {
      font-family: 'Playfair Display', serif;
      font-size: 48px;
      font-weight: 700;
      line-height: 1.15;
      margin-bottom: 20px;
    }

    .welcome-desc {
      font-size: 16px;
      color: var(--muted);
      line-height: 1.7;
      margin-bottom: 40px;
    }

    .welcome-points {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 40px;
    }

    .welcome-point {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 14px;
      color: var(--ink);
    }

    .welcome-point-dot {
      width: 6px;
      height: 6px;
      background: var(--gold);
      border-radius: 50%;
      flex-shrink: 0;
    }

    .btn-start {
      font-family: 'DM Sans', sans-serif;
      font-size: 16px;
      font-weight: 500;
      color: var(--ink);
      background: var(--gold);
      border: none;
      border-radius: 6px;
      padding: 16px 48px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-start:hover {
      background: #b8952f;
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(201,168,76,0.3);
    }

    /* DIVIDER */
    .field-divider {
      height: 1px;
      background: var(--border);
      margin: 28px 0;
    }

    /* CHAR COUNT */
    .char-count {
      font-size: 11px;
      color: var(--muted);
      text-align: right;
      margin-top: 6px;
    }

    @media (max-width: 900px) {
      .left-panel { display: none; }
      .right-panel { padding: 40px 24px; max-width: 100%; }
      .welcome-screen { padding: 40px 24px; }
      .welcome-title { font-size: 34px; }
      .choice-grid.cols-3 { grid-template-columns: 1fr 1fr; }
      .inline-fields { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    const STEPS = [
      { id: 0, label: '–û –≤–∞—Å',         desc: '–ò–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∫–æ–º–ø–∞–Ω–∏—è' },
      { id: 1, label: '–ë–∏–∑–Ω–µ—Å',        desc: '–°—Ñ–µ—Ä–∞, –ø—Ä–æ–¥—É–∫—Ç, —Ä—ã–Ω–æ–∫' },
      { id: 2, label: '–ö–ª–∏–µ–Ω—Ç—ã',       desc: '–¶–ê –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ' },
      { id: 3, label: '–°–∏—Ç—É–∞—Ü–∏—è',      desc: '–ì–¥–µ –≤—ã —Å–µ–π—á–∞—Å' },
      { id: 4, label: '–¶–µ–ª–∏',          desc: '–ö—É–¥–∞ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–π—Ç–∏' },
    ];

    const INDUSTRIES = [
      { icon: 'üèóÔ∏è', title: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∏ —Ä–µ–º–æ–Ω—Ç',  val: 'construction' },
      { icon: 'üõí', title: '–¢–æ—Ä–≥–æ–≤–ª—è / –†–∏—Ç–µ–π–ª',        val: 'retail' },
      { icon: 'üçΩÔ∏è', title: 'HoReCa / –û–±—â–µ–ø–∏—Ç',        val: 'horeca' },
      { icon: 'üíª', title: 'IT / –î–∏–¥–∂–∏—Ç–∞–ª',            val: 'it' },
      { icon: 'üìö', title: '–û–±—É—á–µ–Ω–∏–µ / –ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',    val: 'consulting' },
      { icon: '‚öïÔ∏è', title: '–ú–µ–¥–∏—Ü–∏–Ω–∞ / –ó–¥–æ—Ä–æ–≤—å–µ',     val: 'health' },
      { icon: 'üè†', title: '–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',             val: 'realty' },
      { icon: '‚öôÔ∏è', title: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ',             val: 'manufacturing' },
      { icon: '‚úÇÔ∏è', title: '–£—Å–ª—É–≥–∏ / –°–µ—Ä–≤–∏—Å',          val: 'services' },
      { icon: 'üì¶', title: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ / –î–æ—Å—Ç–∞–≤–∫–∞',     val: 'logistics' },
      { icon: 'üíÑ', title: '–ö—Ä–∞—Å–æ—Ç–∞ / –ú–æ–¥–∞',           val: 'beauty' },
      { icon: 'üîß', title: '–î—Ä—É–≥–æ–µ',                   val: 'other' },
    ];

    const REVENUE_RANGES = [
      { label: '–î–æ 500 000 ‚Ç∏',        val: 'lt500k' },
      { label: '500 000 ‚Äî 2 –º–ª–Ω ‚Ç∏',   val: '500k-2m' },
      { label: '2 ‚Äî 10 –º–ª–Ω ‚Ç∏',        val: '2m-10m' },
      { label: '10 ‚Äî 50 –º–ª–Ω ‚Ç∏',       val: '10m-50m' },
      { label: '–°–≤—ã—à–µ 50 –º–ª–Ω ‚Ç∏',      val: 'gt50m' },
    ];

    const TEAM_SIZES = [
      { label: '–†–∞–±–æ—Ç–∞—é –æ–¥–∏–Ω',   val: 'solo' },
      { label: '2‚Äì5 —á–µ–ª–æ–≤–µ–∫',    val: '2-5' },
      { label: '6‚Äì20 —á–µ–ª–æ–≤–µ–∫',   val: '6-20' },
      { label: '20+ —á–µ–ª–æ–≤–µ–∫',    val: '20+' },
    ];

    const EXPERIENCE = [
      { label: '–î–æ 1 –≥–æ–¥–∞',  val: 'lt1' },
      { label: '1‚Äì3 –≥–æ–¥–∞',   val: '1-3' },
      { label: '3‚Äì7 –ª–µ—Ç',    val: '3-7' },
      { label: '7+ –ª–µ—Ç',     val: '7+' },
    ];

    const GOALS_3M = [
      { icon: 'üìà', title: '–£–≤–µ–ª–∏—á–∏—Ç—å –≤—ã—Ä—É—á–∫—É',           val: 'revenue' },
      { icon: 'üéØ', title: '–ù–∞–π—Ç–∏ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤',        val: 'clients' },
      { icon: '‚öôÔ∏è', title: '–í—ã—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã',         val: 'processes' },
      { icon: 'üöÄ', title: '–ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç',     val: 'product' },
      { icon: 'üë•', title: '–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É',      val: 'team' },
      { icon: 'üåê', title: '–í—ã–π—Ç–∏ –Ω–∞ –Ω–æ–≤—ã–π —Ä—ã–Ω–æ–∫',        val: 'market' },
    ];

    const emptyForm = {
      firstName: '', lastName: '', phone: '', email: '',
      companyName: '', website: '',
      industry: '', industryOther: '',
      businessModel: '', productDescription: '',
      teamSize: '', experience: '',
      targetAudience: '', avgCheck: '', geography: '',
      uniqueValue: '',
      revenueRange: '', revenueGrowth: '',
      mainChallenge: '', triedBefore: '',
      goals: [], goalsDetail: '',
      readyToInvest: '', timeline: '',
    };

    // ‚îÄ‚îÄ‚îÄ STEP COMPONENTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    const Step1 = ({ form, set, errors }) => (
      <div>
        <div className="step-number">–®–∞–≥ 01 / 05</div>
        <h2 className="step-heading">–î–∞–≤–∞–π—Ç–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è</h2>
        <p className="step-hint">–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞.</p>

        <div className="inline-fields">
          <div className="field-group">
            <label className="field-label">–ò–º—è <span>*</span></label>
            <input type="text" className={errors.firstName ? 'input-error' : ''} value={form.firstName} onChange={e => set('firstName', e.target.value)} placeholder="–ê–ª–µ–∫—Å–µ–π" />
            {errors.firstName && <div className="error-msg">{errors.firstName}</div>}
          </div>
          <div className="field-group">
            <label className="field-label">–§–∞–º–∏–ª–∏—è <span>*</span></label>
            <input type="text" className={errors.lastName ? 'input-error' : ''} value={form.lastName} onChange={e => set('lastName', e.target.value)} placeholder="–ò–≤–∞–Ω–æ–≤" />
            {errors.lastName && <div className="error-msg">{errors.lastName}</div>}
          </div>
        </div>

        <div className="inline-fields">
          <div className="field-group">
            <label className="field-label">–¢–µ–ª–µ—Ñ–æ–Ω <span>*</span></label>
            <input type="tel" className={errors.phone ? 'input-error' : ''} value={form.phone} onChange={e => set('phone', e.target.value)} placeholder="+7 700 000 00 00" />
            {errors.phone && <div className="error-msg">{errors.phone}</div>}
          </div>
          <div className="field-group">
            <label className="field-label">Email <span>*</span></label>
            <input type="email" className={errors.email ? 'input-error' : ''} value={form.email} onChange={e => set('email', e.target.value)} placeholder="name@company.kz" />
            {errors.email && <div className="error-msg">{errors.email}</div>}
          </div>
        </div>

        <div className="inline-fields">
          <div className="field-group">
            <label className="field-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏</label>
            <input type="text" value={form.companyName} onChange={e => set('companyName', e.target.value)} placeholder="–¢–û–û –ü—Ä–∏–º–µ—Ä" />
          </div>
          <div className="field-group">
            <label className="field-label">–°–∞–π—Ç / Instagram</label>
            <input type="text" value={form.website} onChange={e => set('website', e.target.value)} placeholder="example.kz –∏–ª–∏ @example" />
          </div>
        </div>
      </div>
    );

    const Step2 = ({ form, set, errors }) => (
      <div>
        <div className="step-number">–®–∞–≥ 02 / 05</div>
        <h2 className="step-heading">–í–∞—à –±–∏–∑–Ω–µ—Å</h2>
        <p className="step-hint">–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ —Ç–æ–º, —á–µ–º –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å.</p>

        <div className="field-group">
          <label className="field-label">–°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ <span>*</span></label>
          <div className="choice-grid cols-3" style={{gridTemplateColumns:'1fr 1fr 1fr'}}>
            {INDUSTRIES.map(ind => (
              <button key={ind.val} className={`choice-btn ${form.industry === ind.val ? 'selected' : ''}`}
                onClick={() => set('industry', ind.val)}>
                <span className="choice-icon">{ind.icon}</span>
                <span className="choice-title" style={{fontSize:'13px'}}>{ind.title}</span>
              </button>
            ))}
          </div>
          {errors.industry && <div className="error-msg">{errors.industry}</div>}
          {form.industry === 'other' && (
            <input type="text" style={{marginTop:'12px'}} value={form.industryOther}
              onChange={e => set('industryOther', e.target.value)} placeholder="–£–∫–∞–∂–∏—Ç–µ –≤–∞—à—É —Å—Ñ–µ—Ä—É" />
          )}
        </div>

        <div className="field-group">
          <label className="field-label">–ú–æ–¥–µ–ª—å –±–∏–∑–Ω–µ—Å–∞ <span>*</span></label>
          <div className="choice-grid cols-3">
            {[
              { icon: 'ü§ù', title: 'B2B', sub: '–ü—Ä–æ–¥–∞—é –∫–æ–º–ø–∞–Ω–∏—è–º' },
              { icon: 'üë§', title: 'B2C', sub: '–ü—Ä–æ–¥–∞—é –ª—é–¥—è–º' },
              { icon: 'üîÑ', title: 'B2B + B2C', sub: '–û–±–∞ —Å–µ–≥–º–µ–Ω—Ç–∞' },
            ].map(m => (
              <button key={m.title} className={`choice-btn ${form.businessModel === m.title ? 'selected' : ''}`}
                onClick={() => set('businessModel', m.title)}>
                <span className="choice-icon">{m.icon}</span>
                <span className="choice-title">{m.title}</span>
                <span className="choice-sub">{m.sub}</span>
              </button>
            ))}
          </div>
          {errors.businessModel && <div className="error-msg">{errors.businessModel}</div>}
        </div>

        <div className="field-group">
          <label className="field-label">–û–ø–∏—à–∏—Ç–µ –≤–∞—à –ø—Ä–æ–¥—É–∫—Ç –∏–ª–∏ —É—Å–ª—É–≥—É <span>*</span></label>
          <textarea className={errors.productDescription ? 'input-error' : ''} value={form.productDescription}
            onChange={e => set('productDescription', e.target.value)} maxLength={250}
            placeholder="–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã –ø—Ä–æ–¥–∞—ë—Ç–µ? –û–¥–∏–Ω –∞–±–∑–∞—Ü, —Å–≤–æ–∏–º–∏ —Å–ª–æ–≤–∞–º–∏." rows={3} />
          <div className="char-count">{form.productDescription.length} / 250</div>
          {errors.productDescription && <div className="error-msg">{errors.productDescription}</div>}
        </div>

        <div className="inline-fields">
          <div className="field-group">
            <label className="field-label">–†–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã <span>*</span></label>
            <div className="choice-grid" style={{gridTemplateColumns:'1fr 1fr'}}>
              {TEAM_SIZES.map(t => (
                <button key={t.val} className={`choice-btn ${form.teamSize === t.val ? 'selected' : ''}`}
                  onClick={() => set('teamSize', t.val)} style={{fontSize:'13px',padding:'11px 14px'}}>
                  {t.label}
                </button>
              ))}
            </div>
            {errors.teamSize && <div className="error-msg">{errors.teamSize}</div>}
          </div>
          <div className="field-group">
            <label className="field-label">–û–ø—ã—Ç –≤ –±–∏–∑–Ω–µ—Å–µ <span>*</span></label>
            <div className="choice-grid" style={{gridTemplateColumns:'1fr 1fr'}}>
              {EXPERIENCE.map(e => (
                <button key={e.val} className={`choice-btn ${form.experience === e.val ? 'selected' : ''}`}
                  onClick={() => set('experience', e.val)} style={{fontSize:'13px',padding:'11px 14px'}}>
                  {e.label}
                </button>
              ))}
            </div>
            {errors.experience && <div className="error-msg">{errors.experience}</div>}
          </div>
        </div>
      </div>
    );

    const Step3 = ({ form, set, errors }) => (
      <div>
        <div className="step-number">–®–∞–≥ 03 / 05</div>
        <h2 className="step-heading">–í–∞—à–∏ –∫–ª–∏–µ–Ω—Ç—ã</h2>
        <p className="step-hint">–ü–æ–Ω–∏–º–∞–Ω–∏–µ –¶–ê ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π.</p>

        <div className="field-group">
          <label className="field-label">–ö—Ç–æ –≤–∞—à –∏–¥–µ–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç? <span>*</span></label>
          <textarea className={errors.targetAudience ? 'input-error' : ''} value={form.targetAudience}
            onChange={e => set('targetAudience', e.target.value)} maxLength={300}
            placeholder="–û–ø–∏—à–∏—Ç–µ: –∫—Ç–æ —ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏—è, –∫–∞–∫–∏–µ —É –Ω–µ–≥–æ –∑–∞–¥–∞—á–∏ –∏ –±–æ–ª–∏, –ø–æ—á–µ–º—É –æ–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫ –≤–∞–º?" rows={4} />
          <div className="char-count">{form.targetAudience.length} / 300</div>
          {errors.targetAudience && <div className="error-msg">{errors.targetAudience}</div>}
        </div>

        <div className="inline-fields">
          <div className="field-group">
            <label className="field-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ <span>*</span></label>
            <input type="text" className={errors.avgCheck ? 'input-error' : ''} value={form.avgCheck}
              onChange={e => set('avgCheck', e.target.value)} placeholder="150 000 ‚Ç∏" />
            {errors.avgCheck && <div className="error-msg">{errors.avgCheck}</div>}
          </div>
          <div className="field-group">
            <label className="field-label">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è —Ä–∞–±–æ—Ç—ã <span>*</span></label>
            <input type="text" className={errors.geography ? 'input-error' : ''} value={form.geography}
              onChange={e => set('geography', e.target.value)} placeholder="–ê–ª–º–∞—Ç—ã, –æ–Ω–ª–∞–π–Ω –ø–æ –°–ù–ì..." />
            {errors.geography && <div className="error-msg">{errors.geography}</div>}
          </div>
        </div>

        <div className="field-group">
          <label className="field-label">–ü–æ—á–µ–º—É –∫–ª–∏–µ–Ω—Ç—ã –≤—ã–±–∏—Ä–∞—é—Ç –≤–∞—Å, –∞ –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤?</label>
          <textarea value={form.uniqueValue}
            onChange={e => set('uniqueValue', e.target.value)} maxLength={250}
            placeholder="–ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—ë –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –≠—Ç–æ –≤–∞–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å." rows={3} />
          <div className="char-count">{form.uniqueValue.length} / 250</div>
        </div>
      </div>
    );

    const Step4 = ({ form, set, errors }) => (
      <div>
        <div className="step-number">–®–∞–≥ 04 / 05</div>
        <h2 className="step-heading">–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è</h2>
        <p className="step-hint">–ß–µ—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å ‚Äî –æ—Å–Ω–æ–≤–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.</p>

        <div className="field-group">
          <label className="field-label">–ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –≤—ã—Ä—É—á–∫–∞ <span>*</span></label>
          <div className="choice-grid" style={{gridTemplateColumns:'1fr 1fr'}}>
            {REVENUE_RANGES.map(r => (
              <button key={r.val} className={`choice-btn ${form.revenueRange === r.val ? 'selected' : ''}`}
                onClick={() => set('revenueRange', r.val)} style={{fontSize:'13px',padding:'12px 16px'}}>
                {r.label}
              </button>
            ))}
          </div>
          {errors.revenueRange && <div className="error-msg">{errors.revenueRange}</div>}
        </div>

        <div className="field-group">
          <label className="field-label">–î–∏–Ω–∞–º–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞ <span>*</span></label>
          <div className="choice-grid cols-3">
            {[
              { icon: 'üìà', title: '–†–∞—Å—Ç—ë–º',         sub: '–ï—Å—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞', val: 'growing' },
              { icon: '‚û°Ô∏è', title: '–°—Ç–∞–≥–Ω–∞—Ü–∏—è',      sub: '–î–µ—Ä–∂–∏–º—Å—è –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ',    val: 'flat' },
              { icon: 'üìâ', title: '–°–Ω–∏–∂–µ–Ω–∏–µ',       sub: '–í—ã—Ä—É—á–∫–∞ –ø–∞–¥–∞–µ—Ç',               val: 'declining' },
            ].map(g => (
              <button key={g.val} className={`choice-btn ${form.revenueGrowth === g.val ? 'selected' : ''}`}
                onClick={() => set('revenueGrowth', g.val)}>
                <span className="choice-icon">{g.icon}</span>
                <span className="choice-title">{g.title}</span>
                <span className="choice-sub">{g.sub}</span>
              </button>
            ))}
          </div>
          {errors.revenueGrowth && <div className="error-msg">{errors.revenueGrowth}</div>}
        </div>

        <div className="field-group">
          <label className="field-label">–ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –≤—ã –ø—Ä–∏—à–ª–∏ <span>*</span></label>
          <textarea className={errors.mainChallenge ? 'input-error' : ''} value={form.mainChallenge}
            onChange={e => set('mainChallenge', e.target.value)} maxLength={300}
            placeholder="–û–ø–∏—à–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ: —á—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —á—Ç–æ –º–µ—à–∞–µ—Ç —Ä–∞—Å—Ç–∏, –≥–¥–µ —Ç–µ—Ä—è–µ—Ç–µ –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –≤—Ä–µ–º—è?" rows={4} />
          <div className="char-count">{form.mainChallenge.length} / 300</div>
          {errors.mainChallenge && <div className="error-msg">{errors.mainChallenge}</div>}
        </div>

        <div className="field-group">
          <label className="field-label">–ß—Ç–æ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É?</label>
          <textarea value={form.triedBefore}
            onChange={e => set('triedBefore', e.target.value)} maxLength={250}
            placeholder="–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—ã, –∫—É—Ä—Å—ã, –Ω–∞–π–º –ª—é–¥–µ–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚Äî —á—Ç–æ –±—ã–ª–æ –∏ –ø–æ—á–µ–º—É –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ?" rows={3} />
          <div className="char-count">{form.triedBefore.length} / 250</div>
        </div>
      </div>
    );

    const Step5 = ({ form, set, errors }) => {
      const toggleGoal = (val) => {
        const curr = form.goals || [];
        set('goals', curr.includes(val) ? curr.filter(g => g !== val) : [...curr, val]);
      };

      return (
        <div>
          <div className="step-number">–®–∞–≥ 05 / 05</div>
          <h2 className="step-heading">–í–∞—à–∏ —Ü–µ–ª–∏</h2>
          <p className="step-hint">–ß—Ç–æ –≤–∞–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å –≤ –±–ª–∏–∂–∞–π—à–∏–µ 3 –º–µ—Å—è—Ü–∞?</p>

          <div className="field-group">
            <label className="field-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è <span>*</span></label>
            <div className="choice-grid cols-3">
              {GOALS_3M.map(g => (
                <button key={g.val} className={`choice-btn ${(form.goals||[]).includes(g.val) ? 'selected' : ''}`}
                  onClick={() => toggleGoal(g.val)}>
                  <span className="choice-icon">{g.icon}</span>
                  <span className="choice-title">{g.title}</span>
                </button>
              ))}
            </div>
            {errors.goals && <div className="error-msg">{errors.goals}</div>}
          </div>

          <div className="field-group">
            <label className="field-label">–û–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</label>
            <textarea value={form.goalsDetail}
              onChange={e => set('goalsDetail', e.target.value)} maxLength={250}
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ö–æ—á—É –≤—ã–π—Ç–∏ –Ω–∞ 5 –º–ª–Ω ‚Ç∏ –≤ –º–µ—Å—è—Ü –∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ª–∏—á–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ –≤ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–µ –¥–æ 4 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å" rows={3} />
            <div className="char-count">{form.goalsDetail.length} / 250</div>
          </div>

          <div className="field-group">
            <label className="field-label">–ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è? <span>*</span></label>
            <div className="choice-grid cols-3">
              {[
                { icon: '‚úÖ', title: '–î–∞',            sub: '–ì–æ—Ç–æ–≤ –≤–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã', val: 'yes' },
                { icon: 'ü§î', title: '–ß–∞—Å—Ç–∏—á–Ω–æ',      sub: '–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —à–∞–≥–æ–≤',      val: 'partial' },
                { icon: '‚è≥', title: '–ü–æ–∫–∞ –Ω–µ—Ç',      sub: '–•–æ—á—É —Å–Ω–∞—á–∞–ª–∞ –ø–æ–Ω—è—Ç—å –ø–ª–∞–Ω',         val: 'not_yet' },
              ].map(r => (
                <button key={r.val} className={`choice-btn ${form.readyToInvest === r.val ? 'selected' : ''}`}
                  onClick={() => set('readyToInvest', r.val)}>
                  <span className="choice-icon">{r.icon}</span>
                  <span className="choice-title">{r.title}</span>
                  <span className="choice-sub">{r.sub}</span>
                </button>
              ))}
            </div>
            {errors.readyToInvest && <div className="error-msg">{errors.readyToInvest}</div>}
          </div>

          <div className="field-group">
            <label className="field-label">–ö–æ–≥–¥–∞ –æ–∂–∏–¥–∞–µ—Ç–µ –ø–µ—Ä–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã? <span>*</span></label>
            <div className="choice-grid" style={{gridTemplateColumns:'1fr 1fr'}}>
              {[
                { label: '–ß–µ—Ä–µ–∑ 2‚Äì4 –Ω–µ–¥–µ–ª–∏',   val: 'weeks' },
                { label: '–ß–µ—Ä–µ–∑ 1‚Äì2 –º–µ—Å—è—Ü–∞',   val: '1-2months' },
                { label: '–ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞',     val: '3months' },
                { label: '–ì–æ—Ç–æ–≤ –∫ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π —Ä–∞–±–æ—Ç–µ', val: 'longterm' },
              ].map(t => (
                <button key={t.val} className={`choice-btn ${form.timeline === t.val ? 'selected' : ''}`}
                  onClick={() => set('timeline', t.val)} style={{fontSize:'13px',padding:'12px 16px'}}>
                  {t.label}
                </button>
              ))}
            </div>
            {errors.timeline && <div className="error-msg">{errors.timeline}</div>}
          </div>
        </div>
      );
    };

    // ‚îÄ‚îÄ‚îÄ ANALYSIS SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    const AnalysisScreen = ({ form, isLoading, result }) => {
      const priorityClass = (p) =>
        p === '–≤—ã—Å–æ–∫–∏–π' ? 'priority-high' : p === '—Å—Ä–µ–¥–Ω–∏–π' ? 'priority-mid' : 'priority-low';

      if (isLoading) return (
        <div className="right-panel">
          <div className="analysis-loading">
            <div className="spinner-ring"></div>
            <h2 className="analysis-title">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h2>
            <p className="analysis-subtitle">–ò–ò-–∞–≥–µ–Ω—Ç –∏–∑—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ. –ó–∞–π–º—ë—Ç 10‚Äì20 —Å–µ–∫—É–Ω–¥.</p>
          </div>
        </div>
      );

      if (result?.error) return (
        <div className="right-panel">
          <div className="analysis-loading">
            <div style={{fontSize:'48px',marginBottom:'16px'}}>‚ö†Ô∏è</div>
            <h2 className="analysis-title">–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞</h2>
            <p className="analysis-subtitle">–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.</p>
          </div>
        </div>
      );

      return (
        <div className="right-panel" style={{maxWidth:'720px'}}>
          <div className="step-number" style={{marginBottom:'8px'}}>–ê–ù–ê–õ–ò–ó –ó–ê–í–ï–†–®–Å–ù</div>
          <h2 className="step-heading" style={{marginBottom:'8px'}}>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {form.firstName}</h2>
          <p className="step-hint">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤.</p>

          <div className="result-hero">
            <div className="result-hero-label">–í–∞—à —Å–µ–≥–º–µ–Ω—Ç</div>
            <div className="result-hero-title">{result?.segment}</div>
            <div className="result-hero-desc">{result?.segmentDescription}</div>
          </div>

          <div className="result-card">
            <div className="result-card-title">–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è</div>
            {result?.keyInsights?.map((ins, i) => (
              <div className="insight-item" key={i}>
                <div className="insight-num">{i + 1}</div>
                <div className="insight-text">{ins}</div>
              </div>
            ))}
          </div>

          {result?.redFlags?.length > 0 && (
            <div className="result-card" style={{borderColor:'#f5c6c2'}}>
              <div className="result-card-title">‚ö†Ô∏è –ù–∞ —á—Ç–æ –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ</div>
              {result.redFlags.map((f, i) => (
                <div className="insight-item" key={i}>
                  <div className="insight-num" style={{background:'#fde8e6',color:'#c0392b'}}>!</div>
                  <div className="insight-text">{f}</div>
                </div>
              ))}
            </div>
          )}

          <div className="result-card">
            <div className="result-card-title">‚ö° –ù–∞ —á—ë–º —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</div>
            {result?.quickWins?.map((w, i) => (
              <div className="quick-win" key={i}>
                <span className="quick-win-check">‚úì</span>
                <span>{w}</span>
              </div>
            ))}
          </div>

          <div className="recommendation-box">
            <h3>–ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</h3>
            <p>{result?.mainRecommendation}</p>
          </div>

          <div className="next-step-card">
            <div className="next-step-label">–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥</div>
            <div className="next-step-title">–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</div>
            <div className="next-step-desc">
              –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –ø–æ–Ω–∏–º–∞–µ–º –≤–∞—à –±–∏–∑–Ω–µ—Å ‚Äî —Å–∞–º–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ä—ã–Ω–æ–∫. 
              –ê–≥–µ–Ω—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ –≤ –≤–∞—à–µ–π –Ω–∏—à–µ: –∏—Ö —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–æ—Å—Ç–∞.
            </div>
            <div className="next-step-features">
              <div className="next-step-feature"><span>üîç</span> –ö—Ç–æ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã</div>
              <div className="next-step-feature"><span>üìä</span> –ò—Ö –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ñ—Ñ–µ—Ä—ã</div>
              <div className="next-step-feature"><span>üéØ</span> –ì–¥–µ –≤–∞—à–∏ —Ç–æ—á–∫–∏ –æ—Ç–ª–∏—á–∏—è</div>
              <div className="next-step-feature"><span>üöÄ</span> –ù–µ–∑–∞–Ω—è—Ç—ã–µ –Ω–∏—à–∏ –≤ –≤–∞—à–µ–π —Å—Ñ–µ—Ä–µ</div>
            </div>
            <button className="btn-next-step" onClick={() => {
              const industryLabel = INDUSTRIES.find(i => i.val === form.industry)?.title || form.industry;
              const profileData = {
                firstName: form.firstName, lastName: form.lastName,
                industry: form.industry, industryLabel,
                businessModel: form.businessModel, geography: form.geography,
                avgCheck: form.avgCheck, productDescription: form.productDescription,
                targetAudience: form.targetAudience,
              };
              const encoded = encodeURIComponent(JSON.stringify(profileData));
              window.location.href = 'https://svetlanaantiaging-design.github.io/business-agents/agent-1/?profile=' + encoded;
            }}>–ü–µ—Ä–µ–π—Ç–∏ –∫ –∞–Ω–∞–ª–∏–∑—É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ ‚Üí</button>
          </div>

          <div style={{marginTop:'16px'}}>
            <button className="btn-outline" onClick={() => window.location.reload()}>
              ‚Üê –ó–∞–ø–æ–ª–Ω–∏—Ç—å –∞–Ω–∫–µ—Ç—É –∑–∞–Ω–æ–≤–æ
            </button>
          </div>
        </div>
      );
    };

    // ‚îÄ‚îÄ‚îÄ WELCOME SCREEN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    const WelcomeScreen = ({ onStart }) => (
      <div className="welcome-screen">
        <div className="welcome-content">
          <div className="welcome-tag">–ë–∏–∑–Ω–µ—Å-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</div>
          <h1 className="welcome-title">–í–∞—à –±–∏–∑–Ω–µ—Å –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—Ç —á–µ—Å—Ç–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞</h1>
          <p className="welcome-desc">
            5 —à–∞–≥–æ–≤ ‚Äî –∏ –ò–ò-–∞–≥–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–æ—Å—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞—à–µ–º –±–∏–∑–Ω–µ—Å–µ.
          </p>
          <div className="welcome-points">
            {[
              '5 –º–∏–Ω—É—Ç –Ω–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ',
              '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤–∞—à–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞',
              '–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –Ω–∞ –±–ª–∏–∂–∞–π—à—É—é –Ω–µ–¥–µ–ª—é',
              '–î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–≥–µ–Ω—Ç–∞–º',
            ].map((p, i) => (
              <div className="welcome-point" key={i}>
                <div className="welcome-point-dot" />
                {p}
              </div>
            ))}
          </div>
          <button className="btn-start" onClick={onStart}>–ù–∞—á–∞—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É ‚Üí</button>
        </div>
      </div>
    );

    // ‚îÄ‚îÄ‚îÄ MAIN APP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

    const App = () => {
      const [screen, setScreen] = useState('welcome'); // welcome | form | analysis
      const [step, setStep] = useState(0);
      const [form, setForm] = useState(() => {
        try { return JSON.parse(localStorage.getItem('qual-v2')) || emptyForm; } catch { return emptyForm; }
      });
      const [errors, setErrors] = useState({});
      const [isLoading, setIsLoading] = useState(false);
      const [result, setResult] = useState(null);

      useEffect(() => {
        localStorage.setItem('qual-v2', JSON.stringify(form));
      }, [form]);

      const set = (field, val) => {
        setForm(p => ({ ...p, [field]: val }));
        if (errors[field]) setErrors(p => ({ ...p, [field]: null }));
      };

      const validate = (s) => {
        const e = {};
        if (s === 0) {
          if (!form.firstName.trim()) e.firstName = '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ';
          if (!form.lastName.trim())  e.lastName  = '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ';
          if (!form.phone.trim())     e.phone     = '–£–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω';
          if (!form.email.trim() || !form.email.includes('@')) e.email = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email';
        }
        if (s === 1) {
          if (!form.industry)          e.industry          = '–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ñ–µ—Ä—É';
          if (!form.businessModel)     e.businessModel     = '–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å';
          if (!form.productDescription.trim() || form.productDescription.length < 20)
            e.productDescription = '–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç (–º–∏–Ω–∏–º—É–º 20 —Å–∏–º–≤–æ–ª–æ–≤)';
          if (!form.teamSize)   e.teamSize   = '–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã';
          if (!form.experience) e.experience = '–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—ã—Ç';
        }
        if (s === 2) {
          if (!form.targetAudience.trim() || form.targetAudience.length < 20)
            e.targetAudience = '–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –¶–ê –ø–æ–¥—Ä–æ–±–Ω–µ–µ';
          if (!form.avgCheck.trim()) e.avgCheck  = '–£–∫–∞–∂–∏—Ç–µ —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫';
          if (!form.geography.trim()) e.geography = '–£–∫–∞–∂–∏—Ç–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—é';
        }
        if (s === 3) {
          if (!form.revenueRange)  e.revenueRange  = '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω';
          if (!form.revenueGrowth) e.revenueGrowth = '–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏–Ω–∞–º–∏–∫—É';
          if (!form.mainChallenge.trim() || form.mainChallenge.length < 20)
            e.mainChallenge = '–û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–¥—Ä–æ–±–Ω–µ–µ';
        }
        if (s === 4) {
          if (!form.goals || form.goals.length === 0) e.goals = '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É —Ü–µ–ª—å';
          if (!form.readyToInvest) e.readyToInvest = '–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å';
          if (!form.timeline)      e.timeline      = '–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫';
        }
        setErrors(e);
        return Object.keys(e).length === 0;
      };

      const next = () => {
        if (!validate(step)) return;
        if (step < STEPS.length - 1) { setStep(step + 1); window.scrollTo(0, 0); }
        else submit();
      };

      const buildTemplateResult = (form) => {
        const industryLabel = INDUSTRIES.find(i => i.val === form.industry)?.title || form.industry;
        const goalsLabels = (form.goals || []).map(g => GOALS_3M.find(x => x.val === g)?.title || g);

        // –°–µ–≥–º–µ–Ω—Ç –ø–æ —Å—Ñ–µ—Ä–µ + –º–æ–¥–µ–ª–∏
        const segmentMap = {
          construction: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥—Ä—è–¥—á–∏–∫',
          retail: '–†–æ–∑–Ω–∏—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è',
          horeca: '–†–µ—Å—Ç–æ—Ä–∞–Ω–Ω—ã–π –±–∏–∑–Ω–µ—Å',
          it: 'IT-–∫–æ–º–ø–∞–Ω–∏—è',
          consulting: '–ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥ –∏ –æ–±—É—á–µ–Ω–∏–µ',
          health: '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –±–∏–∑–Ω–µ—Å',
          realty: '–†–∏—ç–ª—Ç–æ—Ä—Å–∫–∏–π –±–∏–∑–Ω–µ—Å',
          manufacturing: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ',
          services: '–°–µ—Ä–≤–∏—Å–Ω—ã–π –±–∏–∑–Ω–µ—Å',
          logistics: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ –∏ –¥–æ—Å—Ç–∞–≤–∫–∞',
          beauty: '–ò–Ω–¥—É—Å—Ç—Ä–∏—è –∫—Ä–∞—Å–æ—Ç—ã',
          other: '–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å',
        };
        const segment = segmentMap[form.industry] || '–ú–∞–ª—ã–π –±–∏–∑–Ω–µ—Å';

        const teamLabel = { solo: '—Å–æ–ª–æ', '2-5': '2‚Äì5 —á–µ–ª–æ–≤–µ–∫', '6-20': '6‚Äì20 —á–µ–ª–æ–≤–µ–∫', '20+': '20+ —á–µ–ª–æ–≤–µ–∫' }[form.teamSize] || form.teamSize;
        const expLabel = { lt1: '–º–µ–Ω–µ–µ –≥–æ–¥–∞', '1-3': '1‚Äì3 –≥–æ–¥–∞', '3-7': '3‚Äì7 –ª–µ—Ç', '7+': '7+ –ª–µ—Ç' }[form.experience] || form.experience;
        const revenueLabel = {
          lt500k: '–¥–æ 500 000 ‚Ç∏',
          '500k-2m': '500 000 ‚Äî 2 –º–ª–Ω ‚Ç∏',
          '2m-10m': '2 ‚Äî 10 –º–ª–Ω ‚Ç∏',
          '10m-50m': '10 ‚Äî 50 –º–ª–Ω ‚Ç∏',
          gt50m: '—Å–≤—ã—à–µ 50 –º–ª–Ω ‚Ç∏',
        }[form.revenueRange] || form.revenueRange;

        const growthMap = { growing: '—Ä–∞—Å—Ç—ë—Ç', flat: '–≤ —Å—Ç–∞–≥–Ω–∞—Ü–∏–∏', declining: '—Å–Ω–∏–∂–∞–µ—Ç—Å—è' };
        const growthLabel = growthMap[form.revenueGrowth] || form.revenueGrowth;

        // –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã
        const insights = [];
        insights.push(`–í–∞—à –±–∏–∑–Ω–µ—Å –≤ —Å—Ñ–µ—Ä–µ "${industryLabel}" —Å –º–æ–¥–µ–ª—å—é ${form.businessModel} –∏ –∫–æ–º–∞–Ω–¥–æ–π ${teamLabel} ‚Äî —ç—Ç–æ ${form.experience === 'lt1' || form.experience === '1-3' ? '–º–æ–ª–æ–¥–æ–π, –Ω–æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π' : '–∑—Ä–µ–ª—ã–π'} –ø—Ä–æ–µ–∫—Ç —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞.`);

        if (form.revenueGrowth === 'growing') {
          insights.push(`–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏ –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ —Ä—ã–Ω–æ–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–∞—à –ø—Ä–æ–¥—É–∫—Ç. –°–µ–π—á–∞—Å –≤–∞–∂–Ω–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å —Ç–µ–º–ø –∏ –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–¥–µ—Ä–∂–∞—Ç —Ä–æ—Å—Ç –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.`);
        } else if (form.revenueGrowth === 'flat') {
          insights.push(`–°—Ç–∞–≥–Ω–∞—Ü–∏—è –≤—ã—Ä—É—á–∫–∏ –ø—Ä–∏ –≤—ã—Ä—É—á–∫–µ ${revenueLabel} ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–∏–≥–Ω–∞–ª "–ø–æ—Ç–æ–ª–∫–∞". –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, —Ç–µ–∫—É—â–∏–µ –∫–∞–Ω–∞–ª—ã –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∏—Å—á–µ—Ä–ø–∞–Ω—ã –∏ –Ω—É–∂–Ω–∞ –ª–∏–±–æ –Ω–æ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è, –ª–∏–±–æ –Ω–æ–≤—ã–π –æ—Ñ—Ñ–µ—Ä.`);
        } else {
          insights.push(`–°–Ω–∏–∂–µ–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏: –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —ç—Ç–æ —Ä—ã–Ω–æ—á–Ω—ã–π —Ç—Ä–µ–Ω–¥ –∏–ª–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ø—Ä–æ–±–ª–µ–º–∞. –î–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è.`);
        }

        if (form.avgCheck) {
          insights.push(`–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ ${form.avgCheck} –ø—Ä–∏ –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏ "${form.geography}" –¥–∞—ë—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ë–º–∫–æ—Å—Ç–∏ —Ä—ã–Ω–∫–∞. ${form.businessModel === 'B2B' ? '–í B2B —Å—Ç–æ–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞–¥ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ–º LTV –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏.' : '–í B2C –≥–ª–∞–≤–Ω—ã–π —Ä—ã—á–∞–≥ ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏ –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞.'}`);
        }

        // Red flags
        const redFlags = [];
        if (form.revenueGrowth === 'declining') redFlags.push('–ü–∞–¥–µ–Ω–∏–µ –≤—ã—Ä—É—á–∫–∏ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1. –ù—É–∂–µ–Ω —Å—Ä–æ—á–Ω—ã–π –∞—É–¥–∏—Ç –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–¥–∞–∂ –¥–æ –∑–∞–ø—É—Å–∫–∞ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.');
        if (form.teamSize === 'solo') redFlags.push('–†–∞–±–æ—Ç–∞ —Å–æ–ª–æ —Å–æ–∑–¥–∞—ë—Ç —Ä–∏—Å–∫ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è. –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —à–∞–≥.');
        if (!form.uniqueValue || form.uniqueValue.trim().length < 20) redFlags.push('–¶–µ–Ω–Ω–æ—Å—Ç–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–æ —á—ë—Ç–∫–æ. –ë–µ–∑ —ç—Ç–æ–≥–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–æ–¥–∞–∂–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–ø–æ–ª—Å–∏–ª—ã.');
        if (form.readyToInvest === 'not_yet') redFlags.push('–ë–µ–∑ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∑–∂–µ –æ–∂–∏–¥–∞–Ω–∏–π.');
        if (form.timeline === 'weeks') redFlags.push('–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ 2‚Äì4 –Ω–µ–¥–µ–ª–∏ –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –°—Ç–æ–∏—Ç —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.');

        // Quick wins
        const quickWins = [];
        if (goalsLabels.includes('–ù–∞–π—Ç–∏ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤')) quickWins.push('–í—ã–±—Ä–∞—Ç—å 1 –∫–∞–Ω–∞–ª –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –∏ –¥–æ–≤–µ—Å—Ç–∏ –¥–æ 10 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–∞—Å–∞–Ω–∏–π —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ.');
        if (goalsLabels.includes('–£–≤–µ–ª–∏—á–∏—Ç—å –≤—ã—Ä—É—á–∫—É')) quickWins.push(`–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É —Ç–µ–∫—É—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤: –∫–æ–º—É –º–æ–∂–Ω–æ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –¥–æ–ø. —É—Å–ª—É–≥—É –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω—É—é –ø—Ä–æ–¥–∞–∂—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.`);
        if (form.teamSize === 'solo') quickWins.push('–í—ã–ø–∏—Å–∞—Ç—å 3 –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–Ω–∏–º–∞—é—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –æ–Ω–∏ –ø–µ—Ä–≤—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é.');
        quickWins.push('–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã: –≤—ã—Ä—É—á–∫–∞, –∫–æ–ª-–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å—Ä–µ–¥–Ω–∏–π —á–µ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞ ‚Äî —ç—Ç–æ –±–∞–∑–∞ –¥–ª—è –ª—é–±—ã—Ö —Ä–µ—à–µ–Ω–∏–π.');
        if (!form.uniqueValue || form.uniqueValue.trim().length < 20) quickWins.push('–ù–∞–ø–∏—Å–∞—Ç—å 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: "–ú—ã –ø–æ–º–æ–≥–∞–µ–º [–∫–æ–º—É] —Ä–µ—à–∏—Ç—å [–∫–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É] —Å –ø–æ–º–æ—â—å—é [—á—Ç–æ –¥–µ–ª–∞–µ–º]" ‚Äî –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ 3 –∫–ª–∏–µ–Ω—Ç–∞—Ö.');

        // –ì–ª–∞–≤–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
        let mainRecommendation = '';
        if (form.revenueGrowth === 'declining') {
          mainRecommendation = `${form.firstName}, –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –≤—ã—Ä—É—á–∫–∏ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–µ –ø–∞–Ω–∏–∫–æ–≤–∞—Ç—å –∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–∞—á–Ω–∏—Ç–µ —Å –æ–¥–Ω–æ–≥–æ: –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–µ —Å 5 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —É—à–ª–∏ –∏–ª–∏ –Ω–µ –∫—É–ø–∏–ª–∏. –ò—Ö –æ—Ç–≤–µ—Ç—ã –¥–∞–¥—É—Ç –±–æ–ª—å—à–µ, —á–µ–º –ª—é–±–æ–π –∞–Ω–∞–ª–∏–∑.`;
        } else if (form.revenueGrowth === 'flat') {
          mainRecommendation = `${form.firstName}, —Å—Ç–∞–≥–Ω–∞—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–µ –∫—Ä–∏–∑–∏—Å, —ç—Ç–æ —Å–∏–≥–Ω–∞–ª. –í–∞—à –ø—Ä–æ–¥—É–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ç–µ–∫—É—â–∏–π —Ä—ã–Ω–æ–∫ –∏–ª–∏ –∫–∞–Ω–∞–ª —É–∂–µ –Ω–µ —Ä–∞—Å—Ç—ë—Ç. –û–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —à–∞–≥: –≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–Ω—É –Ω–æ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏–ª–∏ –æ–¥–∏–Ω –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª –∏ –¥–∞–π—Ç–µ –µ–º—É 30 –¥–Ω–µ–π —á–µ—Å—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞.`;
        } else {
          mainRecommendation = `${form.firstName}, —Ä–æ—Å—Ç ‚Äî –ª—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ—Å—Ç–∏. –ü–æ–∫–∞ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã—Å—Ç—Ä–æ–π—Ç–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç: –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏ –¥–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ —Ç–æ, —á—Ç–æ –≤–∞—Å –æ—Ç–≤–ª–µ–∫–∞–µ—Ç. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —Ä–∞—Å—Ç–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞.`;
        }

        return { segment, segmentDescription: `${segment} ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ä—ã–Ω–∫–∞ ${form.geography || '—Ä–µ–≥–∏–æ–Ω–∞'}. –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã —É—Å–ø–µ—Ö–∞: –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–∞, —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∏ –¥–æ–≤–µ—Ä–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤. –ü—Ä–∏ –≤—ã—Ä—É—á–∫–µ ${revenueLabel} –∏ –∫–æ–º–∞–Ω–¥–µ ${teamLabel} —É –≤–∞—Å –µ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞.`, keyInsights: insights, redFlags, quickWins: quickWins.slice(0, 4), mainRecommendation };
      };

      const submit = () => {
        setScreen('analysis');
        setIsLoading(true);
        window.scrollTo(0, 0);
        // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ "–∞–Ω–∞–ª–∏–∑–∞" –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞
        setTimeout(() => {
          const result = buildTemplateResult(form);
          setResult(result);
          setIsLoading(false);
        }, 2200);
      };

      if (screen === 'welcome') {
        return (
          <div className="page">
            <div className="left-panel">
              <div className="logo">BusinessOS</div>
              <div className="panel-title">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–∏–∑–Ω–µ—Å–∞ –∑–∞ 5 –º–∏–Ω—É—Ç</div>
              <div className="panel-subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–æ—Å—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤.</div>
              <div style={{flex:1}} />
              <div style={{borderTop:'1px solid rgba(255,255,255,0.1)',paddingTop:'24px',fontSize:'13px',color:'rgba(255,255,255,0.3)'}}>
                –î–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞
              </div>
            </div>
            <WelcomeScreen onStart={() => setScreen('form')} />
          </div>
        );
      }

      if (screen === 'analysis') {
        return (
          <div className="page">
            <div className="left-panel">
              <div className="logo">BusinessOS</div>
              <div className="panel-title">{form.firstName},<br/>–∞–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤</div>
              <div className="panel-subtitle">–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –ø–µ—Ä–µ–¥–∞–Ω –∞–≥–µ–Ω—Ç–∞–º. –û–Ω–∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ.</div>
            </div>
            <AnalysisScreen form={form} isLoading={isLoading} result={result} />
          </div>
        );
      }

      return (
        <div className="page">
          <div className="left-panel">
            <div className="logo">BusinessOS</div>
            <div className="steps-nav">
              {STEPS.map((s, i) => (
                <div key={s.id}
                  className={`step-item ${i === step ? 'active' : i < step ? 'done' : ''}`}
                  onClick={() => i < step && setStep(i)}>
                  <div className="step-dot">{i < step ? '‚úì' : i + 1}</div>
                  <div>
                    <div className="step-label">{s.label}</div>
                    <div className="step-desc">{s.desc}</div>
                  </div>
                </div>
              ))}
            </div>
            <div className="progress-bar-wrap">
              <div className="progress-label">
                <span>–ü—Ä–æ–≥—Ä–µ—Å—Å</span>
                <span>{Math.round(((step + 1) / STEPS.length) * 100)}%</span>
              </div>
              <div className="progress-track">
                <div className="progress-fill" style={{width:`${((step + 1) / STEPS.length) * 100}%`}} />
              </div>
            </div>
          </div>

          <div className="right-panel">
            {step === 0 && <Step1 form={form} set={set} errors={errors} />}
            {step === 1 && <Step2 form={form} set={set} errors={errors} />}
            {step === 2 && <Step3 form={form} set={set} errors={errors} />}
            {step === 3 && <Step4 form={form} set={set} errors={errors} />}
            {step === 4 && <Step5 form={form} set={set} errors={errors} />}

            <div className="nav-row">
              <button className="btn-back" onClick={() => { setStep(step - 1); window.scrollTo(0,0); }} disabled={step === 0}>
                ‚Üê –ù–∞–∑–∞–¥
              </button>
              <button className="btn-next" onClick={next}>
                {step === STEPS.length - 1 ? '–ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏–∑ ‚Üí' : '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å ‚Üí'}
              </button>
            </div>
          </div>
        </div>
      );
    };

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
